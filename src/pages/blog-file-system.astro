---
import BlogPost from "../components/BlogPost.astro";
import { siteConfig } from "../config/site-config";
import MainLayout from "../layouts/MainLayout.astro";

interface Post {
  frontmatter: {
    title: string;
    date: string;
    author: string;
    description: string;
    image: string;
    tags?: string[];
  };
  url: string;
}

const posts: Post[] = Object.values(
  import.meta.glob("./posts-old/*.{md,mdx}", { eager: true })
);
---

<MainLayout title="Maleanta Images">
  <div class="bg-gray-900 py-24 sm:py-32">
    <div class="mx-auto max-w-7xl px-6 lg:px-8">
      <div class="mx-auto max-w-2xl lg:mx-0">
        <h1
          class="text-4xl font-semibold tracking-tight text-pretty text-white sm:text-5xl"
        >
          {siteConfig.title}
        </h1>

        <p class="mt-2 text-lg/8 text-gray-300">
          {siteConfig.description}
        </p>
      </div>
      <div
        class="mx-auto mt-10 grid max-w-2xl grid-cols-1 gap-x-8 gap-y-16 border-t border-gray-700 pt-10 sm:mt-16 sm:pt-16 lg:mx-0 lg:max-w-none lg:grid-cols-3"
      >
        {
          posts.map(({ frontmatter, url }) => (
            <BlogPost
              date={frontmatter.date}
              title={frontmatter.title}
              description={frontmatter.description}
              labels={frontmatter.tags}
              author={frontmatter.author}
              authorRole="Co-Founder / CTO"
              image={frontmatter.image}
              url={url}
            />
          ))
        }
      </div>
    </div>
  </div>
</MainLayout>
